<% @title = "Datos de Indicadores" %>
<nav class="breadcrumb" aria-label="breadcrumbs">
  <ul>
    <li> <%= link_to  "Dashboard", root_path %></li>
    <li class="is-active">      
      <a href="#" aria-current="page">Datos de Indicadores</a>
    </li>
  </ul>
</nav>


<div class="columns">
  <div class="column">
      <div class="card margin-small shadow-cm">
        <div class="card-content">
          <p class="title is-4 has-text-centered">Datos de Indicadores</p>
          <p class="subtitle is-6 has-text-centered">Datos de los indicadores de los objetivos estratégicos.</p>

          <div class="title is-4"> Perspectivas </div>
          <div class="columns">
            <div class="column">
                <div class="tabs is-centered is-boxed"  id="tab_header">
                  <ul>
                      <li class="item is-active" data-option="financiera-1">
                          <a>
                              <span class="icon is-small"><i class="mdi mdi-cash mdi-24px" aria-hidden="true"></i></span>
                              <span>Financiera</span>
                          </a>
                      </li>
                      <li class="item" data-option="cliente-1">
                          <a>
                              <span class="icon is-small"><i class="mdi mdi-account-group mdi-24px" aria-hidden="true"></i></span>
                              <span>Cliente</span>
                          </a>
                      </li>
                      <li class="item" data-option="procesos-1">
                          <a>
                              <span class="icon is-small"><i class="mdi mdi-message-processing mdi-24px" aria-hidden="true"></i></span>
                              <span>Procesos Internos</span>
                          </a>
                      </li>
                      <li class="item" data-option="aprendizaje-1">
                          <a>
                              <span class="icon is-small"><i class="mdi mdi-school mdi-24px" aria-hidden="true"></i></span>
                              <span>Aprendizaje y Crecimiento</span>
                          </a>
                      </li>
                  </ul>
                </div>


                <div class="box" id="tab_container">

                  <!-- Finaciera --> 
                  <div class="container_item is-active" data-item="financiera-1">
                    <%-if  @objectivos.perspectiva(1).count > 0 %>
                        <% @objectivos.perspectiva(1).each do |objetivo| %>
                        <div class="columns">
                          <div class="column">
                            <% if objetivo.indicators.count > 0 %> 
                                <div class="columns">
                                  <div class="column">
                                      <div class="title is-5">Objetivo:  <%= objetivo.content %></div>   
                                  </div>
                                </div>
                              <% objetivo.indicators.objetivo(objetivo.id).each do |indicator| %>
                                <div class="columns">
                                  <div class="column">
                                    <div class="title is-6">Indicador:  <%= indicator.indicador %></div>   
                                  </div>
                                  <div class="column is-2">                                  
                                    <%= link_to dato_new_path(indicator), class: "button is-success"   do %>
                                      <span class="icon">
                                        <i class="mdi mdi-plus"></i>
                                      </span>   
                                      <%= t('.new_link') %>                                   
                                    <% end %>                                    
                                    <span data-label="Ver gráfica" class="is-black is-top is-medium tooltip">
                                      <%= link_to indicator_url(indicator), class: "button is-link" do %>
                                          <span class="icon">
                                            <i class="mdi mdi-chart-bar"></i>
                                          </span>
                                      <% end %>
                                    </span>
                                  </div>
                                </div> 

                                <%-if indicator.datos.count > 0 %>  
                                    <table class="table is-fullwidth">
                                      <thead>
                                        <th>Año</th>
                                        <th>Enero</th>
                                        <th>Febrero</th>
                                        <th>Marzo</th>
                                        <th>Abril</th>
                                        <th>Mayo</th>
                                        <th>Junio</th>
                                        <th>Julio</th>
                                        <th>Agosto</th>
                                        <th>Septiembre</th>
                                        <th>Octubre</th>
                                        <th>Noviembre</th>
                                        <th>Diciembre</th>
                                        <th>Total</th>
                                        <th>%</th>
                                        <th></th>
                                      </thead>
                                      <tbody>
                                        <% indicator.datos.each do |dato|%>
                                          <tr>                                      
                                              <td><%= dato.anio %></td>
                                              <td><%= dato.enero %></td>
                                              <td><%= dato.febrero %></td>
                                              <td><%= dato.marzo %></td>
                                              <td><%= dato.abril %></td>
                                              <td><%= dato.mayo %></td>
                                              <td><%= dato.junio %></td>
                                              <td><%= dato.julio %></td>
                                              <td><%= dato.agosto %></td>
                                              <td><%= dato.septiembre %></td>
                                              <td><%= dato.octubre %></td>
                                              <td><%= dato.noviembre %></td>
                                              <td><%= dato.diciembre %></td>
                                              <td><%= dato.total %></td>
                                              <td><%= dato.porcentaje %></td>
                                              <td>
                                                <span data-label="<%= t('.edit_link') %>" class="is-black is-top is-medium tooltip">
                                                  <%= link_to dato_edit_path(dato, indicator), class: "button is-info" do %>
                                                      <span class="icon">
                                                        <i class="mdi mdi-update"></i>
                                                      </span>
                                                  <% end %>
                                                  
                                                </span>
                                            </td>
                                          </tr>
                                        <% end %>
                                        
                                      </tbody>
                                    </table>
                                    <hr>
                                <% else %>
                                  <table class="table is-fullwidth">
                                    <thead>
                                      <th>Año</th>
                                      <th>Enero</th>
                                      <th>Febrero</th>
                                      <th>Marzo</th>
                                      <th>Abril</th>
                                      <th>Mayo</th>
                                      <th>Junio</th>
                                      <th>Julio</th>
                                      <th>Agosto</th>
                                      <th>Septiembre</th>
                                      <th>Octubre</th>
                                      <th>Noviembre</th>
                                      <th>Diciembre</th>
                                      <th>Total</th>
                                      <th>%</th>
                                    </thead>
                                    <tbody>
                                      <tr>                                      
                                          <td colspan="15" class="notification is-warning is-fullwidth"> No hay registros ingresados!!!</td colspan="14">
                                      </tr>
                                    </tbody>
                                    
                                  </table>
                                  <hr>
                                <% end %>
                              <% end %>  

                            <% else %>
                              <div class="columns">
                                <div class="column">
                                    <div class="title is-5">Objetivo:  <%= objetivo.content %></div>   
                                </div>
                              </div>
                              <div class="notification is-warning is-fullwidth"> No hay registros indicador!!!</div>
                            <% end %>                             
                          </div>
                        </div>
                      <% end %>
                    <% else %>
                      <div class="notification is-warning is-fullwidth"> No hay registros de objetivo!!!</div>
                    <% end %>
                   
                  </div>
                  <!-- end Finaciera -->


                  <!-- Cliente -->
                  <div class="container_item" data-item="cliente-1">
                    <%-if  @objectivos.perspectiva(2).count > 0 %>
                      <% @objectivos.perspectiva(2).each do |objetivo| %>
                      <div class="columns">
                        <div class="column">
                          <%if objetivo.indicators.objetivo(objetivo.id).count > 0 %>
                            <div class="columns">
                              <div class="column">
                                  <div class="title is-5">Objetivo:  <%= objetivo.content %></div>   
                              </div>
                            </div>

                            <% objetivo.indicators.objetivo(objetivo.id).each do |indicator| %>
                              <div class="columns">
                                <div class="column">
                                  <div class="title is-5">Indicador:  <%= indicator.indicador %></div>   
                                </div>
                                <div class="column is-2">
                                  <%= link_to dato_new_path(indicator), class: "button is-success"   do %>
                                    <span class="icon">
                                      <i class="mdi mdi-plus"></i>
                                    </span>   
                                    <%= t('.new_link') %>                                   
                                  <% end %>                                                                    
                                  <span data-label="Ver gráfica" class="is-black is-top is-medium tooltip">
                                    <%= link_to indicator_url(indicator), class: "button is-link" do %>
                                        <span class="icon">
                                          <i class="mdi mdi-chart-bar"></i>
                                        </span>
                                    <% end %>
                                  </span>
                                </div>
                              </div> 

                              <%-if indicator.datos.count > 0 %>  
                                  <table class="table is-fullwidth">
                                    <thead>
                                      <th>Año</th>
                                      <th>Enero</th>
                                      <th>Febrero</th>
                                      <th>Marzo</th>
                                      <th>Abril</th>
                                      <th>Mayo</th>
                                      <th>Junio</th>
                                      <th>Julio</th>
                                      <th>Agosto</th>
                                      <th>Septiembre</th>
                                      <th>Octubre</th>
                                      <th>Noviembre</th>
                                      <th>Diciembre</th>
                                      <th>Total</th>
                                      <th>%</th>
                                      <th></th>
                                    </thead>
                                    <tbody>
                                      <% indicator.datos.each do |dato|%>
                                        <tr>                                      
                                            <td><%= dato.anio %></td>
                                            <td><%= dato.enero %></td>
                                            <td><%= dato.febrero %></td>
                                            <td><%= dato.marzo %></td>
                                            <td><%= dato.abril %></td>
                                            <td><%= dato.mayo %></td>
                                            <td><%= dato.junio %></td>
                                            <td><%= dato.julio %></td>
                                            <td><%= dato.agosto %></td>
                                            <td><%= dato.septiembre %></td>
                                            <td><%= dato.octubre %></td>
                                            <td><%= dato.noviembre %></td>
                                            <td><%= dato.diciembre %></td>
                                            <td><%= dato.total %></td>
                                            <td><%= dato.porcentaje %></td>
                                            <td>
                                              <span data-label="<%= t('.edit_link') %>" class="is-black is-top is-medium tooltip">
                                                <%= link_to dato_edit_path(dato, indicator), class: "button is-info" do %>
                                                    <span class="icon">
                                                      <i class="mdi mdi-update"></i>
                                                    </span>
                                                <% end %>
                                              </span>
                                            </td>
                                        </tr>
                                      <% end %>
                                      
                                    </tbody>
                                  </table>
                                  <hr>
                              <% else %>
                                <table class="table is-fullwidth">
                                  <thead>
                                    <th>Año</th>
                                    <th>Enero</th>
                                    <th>Febrero</th>
                                    <th>Marzo</th>
                                    <th>Abril</th>
                                    <th>Mayo</th>
                                    <th>Junio</th>
                                    <th>Julio</th>
                                    <th>Agosto</th>
                                    <th>Septiembre</th>
                                    <th>Octubre</th>
                                    <th>Noviembre</th>
                                    <th>Diciembre</th>
                                    <th>Total</th>
                                    <th>%</th>
                                  </thead>
                                  <tbody>
                                    <tr>                                      
                                        <td colspan="15" class="notification is-warning is-fullwidth"> No hay registros ingresados!!!</td colspan="14">
                                    </tr>
                                  </tbody>
                                  
                                </table>
                                <hr>
                              <% end %>                            
                            <% end %> 
                          <% else %>
                              <div class="columns">
                                <div class="column">
                                    <div class="title is-5">Objetivo:  <%= objetivo.content %></div>   
                                </div>
                              </div>
                              <div class="notification is-warning is-fullwidth"> No hay registros indicador!!!</div>
                          <% end %>                              
                        </div>
                      </div>
                      <% end %>
                    <% else %>
                      <div class="notification is-warning is-fullwidth"> No hay registros de objetivo!!!</div>
                    <% end %>
                  </div>
                  <!-- end cliente -->


                  <!-- Procesos -->
                  <div class="container_item" data-item="procesos-1">
                    <%-if  @objectivos.perspectiva(3).count > 0 %>
                      <% @objectivos.perspectiva(3).each do |objetivo| %>
                      <div class="columns">
                        <div class="column">
                          <%if objetivo.indicators.objetivo(objetivo.id).count > 0 %>
                            <div class="columns">
                              <div class="column">
                                  <div class="title is-5">Objetivo:  <%= objetivo.content %></div>   
                              </div>
                            </div>  

                            <% objetivo.indicators.objetivo(objetivo.id).each do |indicator| %>
                              <div class="columns">
                                <div class="column">
                                  <div class="title is-5">Indicador:  <%= indicator.indicador %></div>   
                                </div>
                                <div class="column is-2">
                                  <%= link_to dato_new_path(indicator), class: "button is-success"   do %>
                                    <span class="icon">
                                      <i class="mdi mdi-plus"></i>
                                    </span>   
                                    <%= t('.new_link') %>                                   
                                  <% end %>
                                  <span data-label="Ver gráfica" class="is-black is-top is-medium tooltip">
                                    <%= link_to indicator_url(indicator), class: "button is-link" do %>
                                        <span class="icon">
                                          <i class="mdi mdi-chart-bar"></i>
                                        </span>
                                    <% end %>
                                  </span>
                                </div>
                              </div> 

                              <%-if indicator.datos.count > 0 %>  
                                  <table class="table is-fullwidth">
                                    <thead>
                                      <th>Año</th>
                                      <th>Enero</th>
                                      <th>Febrero</th>
                                      <th>Marzo</th>
                                      <th>Abril</th>
                                      <th>Mayo</th>
                                      <th>Junio</th>
                                      <th>Julio</th>
                                      <th>Agosto</th>
                                      <th>Septiembre</th>
                                      <th>Octubre</th>
                                      <th>Noviembre</th>
                                      <th>Diciembre</th>
                                      <th>Total</th>
                                      <th>%</th>
                                      <th></th>
                                    </thead>
                                    <tbody>
                                      <% indicator.datos.each do |dato|%>
                                        <tr>                                      
                                            <td><%= dato.anio %></td>
                                            <td><%= dato.enero %></td>
                                            <td><%= dato.febrero %></td>
                                            <td><%= dato.marzo %></td>
                                            <td><%= dato.abril %></td>
                                            <td><%= dato.mayo %></td>
                                            <td><%= dato.junio %></td>
                                            <td><%= dato.julio %></td>
                                            <td><%= dato.agosto %></td>
                                            <td><%= dato.septiembre %></td>
                                            <td><%= dato.octubre %></td>
                                            <td><%= dato.noviembre %></td>
                                            <td><%= dato.diciembre %></td>
                                            <td><%= dato.total %></td>
                                            <td><%= dato.porcentaje %></td>
                                            <td>
                                              <span data-label="<%= t('.edit_link') %>" class="is-black is-top is-medium tooltip">
                                                <%= link_to dato_edit_path(dato, indicator), class: "button is-info" do %>
                                                    <span class="icon">
                                                      <i class="mdi mdi-update"></i>
                                                    </span>
                                                <% end %>
                                              </span>
                                            </td>
                                        </tr>
                                      <% end %>
                                      
                                    </tbody>
                                  </table>
                                  <hr>
                              <% else %>
                                <table class="table is-fullwidth">
                                  <thead>
                                    <th>Año</th>
                                    <th>Enero</th>
                                    <th>Febrero</th>
                                    <th>Marzo</th>
                                    <th>Abril</th>
                                    <th>Mayo</th>
                                    <th>Junio</th>
                                    <th>Julio</th>
                                    <th>Agosto</th>
                                    <th>Septiembre</th>
                                    <th>Octubre</th>
                                    <th>Noviembre</th>
                                    <th>Diciembre</th>
                                    <th>Total</th>
                                    <th>%</th>
                                  </thead>
                                  <tbody>
                                    <tr>                                      
                                        <td colspan="15" class="notification is-warning is-fullwidth"> No hay registros ingresados!!!</td colspan="14">
                                    </tr>
                                  </tbody>
                                  
                                </table>
                                <hr>
                              <% end %>
                            <% end %>   
                            
                          <% else %>
                            <div class="columns">
                              <div class="column">
                                  <div class="title is-5">Objetivo:  <%= objetivo.content %></div>   
                              </div>
                            </div>
                            <div class="notification is-warning is-fullwidth"> No hay registros indicador!!!</div>                           
                          <% end %>
                        </div>
                      </div>
                      <% end %>
                    <% else %>
                      <div class="notification is-warning is-fullwidth"> No hay registros de objetivo!!!</div>
                    <% end %>
                  </div>
                  <!-- end Procesos -->

                  <!-- Crecimiento -->
                  <div class="container_item" data-item="aprendizaje-1">
                    <%-if  @objectivos.perspectiva(4).count > 0 %>
                        <% @objectivos.perspectiva(4).count do |objetivo| %>
                        <div class="columns">
                          <div class="column">
                            <%if objetivo.indicators.objetivo(objetivo.id).count > 0 %> 
                              <div class="columns">
                                <div class="column">
                                    <div class="title is-5">Objetivo:  <%= objetivo.content %></div>   
                                </div>
                              </div>   

                              <% objetivo.indicators.objetivo(objetivo.id).each do |indicator| %>
                                <div class="columns">
                                  <div class="column">
                                    <div class="title is-5">Indicador:  <%= indicator.indicador %></div>   
                                  </div>
                                  <div class="column is-2">
                                    <%= link_to dato_new_path(indicator), class: "button is-success"   do %>
                                      <span class="icon">
                                        <i class="mdi mdi-plus"></i>
                                      </span>   
                                      <%= t('.new_link') %>                                   
                                    <% end %>
                                    <span data-label="Ver gráfica" class="is-black is-top is-medium tooltip">
                                      <%= link_to indicator_url(indicator), class: "button is-link" do %>
                                          <span class="icon">
                                            <i class="mdi mdi-chart-bar"></i>
                                          </span>
                                      <% end %>
                                    </span>
                                  </div>
                                </div> 

                                <%-if indicator.datos.count > 0 %>  
                                    <table class="table is-fullwidth">
                                      <thead>
                                        <th>Año</th>
                                        <th>Enero</th>
                                        <th>Febrero</th>
                                        <th>Marzo</th>
                                        <th>Abril</th>
                                        <th>Mayo</th>
                                        <th>Junio</th>
                                        <th>Julio</th>
                                        <th>Agosto</th>
                                        <th>Septiembre</th>
                                        <th>Octubre</th>
                                        <th>Noviembre</th>
                                        <th>Diciembre</th>
                                        <th>Total</th>
                                        <th>%</th>
                                        <th></th>
                                      </thead>
                                      <tbody>
                                        <% indicator.datos.each do |dato|%>
                                          <tr>                                      
                                              <td><%= dato.anio %></td>
                                              <td><%= dato.enero %></td>
                                              <td><%= dato.febrero %></td>
                                              <td><%= dato.marzo %></td>
                                              <td><%= dato.abril %></td>
                                              <td><%= dato.mayo %></td>
                                              <td><%= dato.junio %></td>
                                              <td><%= dato.julio %></td>
                                              <td><%= dato.agosto %></td>
                                              <td><%= dato.septiembre %></td>
                                              <td><%= dato.octubre %></td>
                                              <td><%= dato.noviembre %></td>
                                              <td><%= dato.diciembre %></td>
                                              <td><%= dato.total %></td>
                                              <td><%= dato.porcentaje %></td>
                                              <td>
                                                <span data-label="<%= t('.edit_link') %>" class="is-black is-top is-medium tooltip">
                                                  <%= link_to dato_edit_path(dato, indicator), class: "button is-info" do %>
                                                      <span class="icon">
                                                        <i class="mdi mdi-update"></i>
                                                      </span>
                                                  <% end %>
                                                </span>
                                              </td>
                                          </tr>
                                        <% end %>
                                          <tr>
                                            asd
                                          </tr>
                                      </tbody>
                                    </table>
                                    <hr>
                                <% else %>
                                  <table class="table is-fullwidth">
                                    <thead>
                                      <th>Año</th>
                                      <th>Enero</th>
                                      <th>Febrero</th>
                                      <th>Marzo</th>
                                      <th>Abril</th>
                                      <th>Mayo</th>
                                      <th>Junio</th>
                                      <th>Julio</th>
                                      <th>Agosto</th>
                                      <th>Septiembre</th>
                                      <th>Octubre</th>
                                      <th>Noviembre</th>
                                      <th>Diciembre</th>
                                      <th>Total</th>
                                      <th>%</th>
                                    </thead>
                                    <tbody>
                                      <tr>                                      
                                          <td colspan="15" class="notification is-warning is-fullwidth"> No hay registros ingresados!!!</td colspan="14">
                                      </tr>
                                    </tbody>
                                    
                                  </table>
                                  <hr>
                                <% end %>
                              <% end %>  

                            <% else %>
                              <div class="columns">
                                <div class="column">
                                    <div class="title is-5">Objetivo:  <%= objetivo.content %></div>   
                                </div>
                              </div>
                              <div class="notification is-warning is-fullwidth"> No hay registros indicador!!!</div>
                            <% end %>                           
                          </div>
                        </div>
                        <% end %>
                    <% else %>
                      <div class="notification is-warning is-fullwidth"> No hay registros de objetivo!!!</div>
                    <% end %>
                  </div>
                  <!-- end Crecimiento -->  

                </div>



            </div>
          </div>          

          
      </div>
  </div> 

  
</div>
