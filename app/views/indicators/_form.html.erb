<%= form_with(model: indicator, local: true) do |form| %>
  <% if indicator.errors.any? %>
    <div class="message is-danger">
      <h2 class="title is-5 has-text-danger"><%= pluralize(indicator.errors.count, "error") %> al realizar la operación:</h2>
      <div class="message-body">
        <ul>
          <% indicator.errors.full_messages.each do |message| %>
            <li><%= message %></li>
          <% end %>
        </ul>
      </div>
    </div>
  <% end %>

  <%= form.hidden_field :objective_id, value: @objective_id %>
  <div class="field">
    <%= form.label :aclarar, class: "label is-normal" %>
    <div class="control"> 
      <%= form.text_area :aclarar, class: "textarea is-info" %>
    </div>
  </div>
  
  <div class="field">
    <%= form.label :variable, class: "label is-normal" %>
    <div class="control"> 
      <%= form.text_area :variable, class: "textarea is-info" %>
    </div>
  </div>

  <div class="field">
    <%= form.label :indicador, class: "label is-normal" %>
    <div class="control"> 
      <%= form.text_area :indicador, class: "textarea is-info" %>
    </div>
  </div>
  

  <div class="field">
    <%= form.label :tipo, class: "label is-normal" %>
    <div class="control"> 
      <div class="select is-primary is-fullwidth">
        <%#= form.select :tipo, @tipos.map { |value| [ value, value ] }, {prompt: "Seleccione el tipo"}%>
        <select name="indicator[tipo]" id="indicator_tipo">
          <option value="">Seleccione el tipo</option>          
          <option value="numero" <%= if indicator.tipo == 'numero' then 'selected' else '' end %>>Número (Solo cantidad)</option>
          <option value="incremento" <%= if indicator.tipo == 'incremento' then 'selected' else '' end %>>Incrementar (%)</option>
          <option value="reducir" <%= if indicator.tipo == 'reducir' then 'selected' else '' end %>>Reducir (%)</option>
          <option value="porcentaje" <%= if indicator.tipo == 'porcentaje' then 'selected' else '' end %>>Porcentaje normal (Sin reducir o incrementar)</option>
        </select>
      </div>
    </div>
  </div>
  
  <div class="field is-grouped margin-small-topons">
    <%= form.submit "Guardar", class: "button is-primary" %>
  </div>
<% end %>
